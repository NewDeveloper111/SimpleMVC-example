
# Авторизация и Контроль доступа. Работа с текущим пользователем


## Получение текущего пользотеля

Чтобы получить объект, содержащий данные о текущем пользователе, 
необходимо обратиться к [контейнеру](./Config.md) следующим образом:

```php
use ItForFree\SimpleMVC\Config;

$User = Config::getObject('core.user.class');
```


## Контроль доступа

Для проверки доступа следует задавать правила в контроллерах, например:
```php
class AdminusersController extends \ItForFree\SimpleMVC\MVC\Controller
{

    protected $rules = [
         ['allow' => true, 'roles' => ['admin']], // разрешаем доступ админу
         ['allow' => false, 'roles' => ['?', '@']], // запрещаем гостям и авторизованным пользователям без роли "админ"
    ];

```

-- ядро системы автоматичеки проверит доступ, на основе текущей роли пользователя.

Подробности в видео: https://youtu.be/rjcA71JZgf0

